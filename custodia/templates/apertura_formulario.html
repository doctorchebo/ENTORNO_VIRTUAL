{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block content %}
{% if apertura_id == 0 %}
{% include 'messages.html' %}
<h1 class="display-6">Crear Apertura</h1>
<form action="" method='post' autocomplete='off'>
    {% csrf_token %}
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{caja_form.caja|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.estado|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.sobre|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.caja|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.bloque|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.codigo_cliente|as_crispy_field}}
        </div>
        <div class='col-md-6'>
            {{form.cliente|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.cuenta|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.saldo_captacion|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.fecha_apertura|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.producto|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.sucursal|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.agencia_apertura|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.agencia_asignada|as_crispy_field}}
        </div>
    </div>
    
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.estado_cuenta|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.segmento_cliente|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.tipo|as_crispy_field}}
        </div>
    </div>
    
    
    <div class="row mb-12">
        <div class="col-md-1">
            <button type="submit" class="btn btn-outline-success">Registrar</button>
        </div>
        <div class="col-md-2">
            <a href="{% url 'apertura_list' %}" class="btn btn-outline-secondary">
                Retornar a lista
            </a>
        </div>
    </div>
</form>
<!-- ---------------------Editar Apertura ------------------------------ -->
{% else %}
<h1 class="display-6">Editar Apertura</h1>
{% include 'messages.html' %}
<form action="" method='post' autocomplete='off'>
    {% csrf_token %}
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{caja_form.caja|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.sobre|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.caja|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.bloque|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.usuario_creacion|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.codigo_cliente|as_crispy_field}}
        </div>
        <div class='col-md-6'>
            {{form.cliente|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.cuenta|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.saldo_captacion|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.fecha_apertura|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.producto|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.sucursal|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.agencia_apertura|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.agencia_asignada|as_crispy_field}}
        </div>
    </div>

    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.estado_cuenta|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.segmento_cliente|as_crispy_field}}
        </div>
        <div class='col-md-2'>
            {{form.tipo|as_crispy_field}}
        </div>
    </div>
    <div class='row mb-12'>
        <div class='col-md-2'>
            {{form.estado|as_crispy_field}}
        </div>
    </div>

    <div class="row mb-12">
        <div class="col-md-1">
            <button type="submit" class="btn btn-outline-success">Registrar</button>
        </div>
        <div class="col-md-2">
            <a href="{% url 'apertura_list' %}" class="btn btn-outline-secondary">
                Retornar a lista
            </a>
        </div>
    </div>
</form>
{% endif %}

{% endblock content %}